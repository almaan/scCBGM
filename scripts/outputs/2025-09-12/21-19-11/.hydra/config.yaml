wandb:
  experiment: conceptlab
  project: conceptlab
  entity: null
seed: 69
intervention_labels:
  label_variable: concept_0_split
  hold_out_label: hold_out
  mod_label: modify
  drop_label: drop
  concepts_to_flip:
  - concept_0
  reference:
  - 0
data:
  _target_: conceptlab.data.dataset.InterventionDataset
  data_path: /braid/havivd/scgen/kang_scimilarity_v4_with_concepts_processed.h5ad
  concept_key: concepts
  intervention_labels: ${intervention_labels}
  mmd_label: L1_stim
  target_sum: 1214
model:
  _target_: conceptlab.models.cb_vae.CBM_MetaTrainer
  concept_key: ${data.concept_key}
  max_epochs: 200
  log_every_n_steps: 10
  num_workers: 4
  obsm_key: X_pca
  z_score: false
  cbm_config:
    has_cbm: true
    lr: 0.0003
    n_layers: 4
    hidden_dim: 1024
    beta: 1.0e-05
    latent_dim: 128
    n_unknown: 128
    min_bottleneck_size: 128
    concepts_hp: 0.01
    orthogonality_hp: 0.5
    use_soft_concepts: false
